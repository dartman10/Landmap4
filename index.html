<!DOCTYPE html>
<html>
<head>
	<title>LORDLANDER</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
  <script src="https://unpkg.com/embeddable-nfts/dist/nft-card.min.js"></script>
	<style>
		html, body {
			height: 100%;
			margin: 2%;
		}
		#map {
			width: 100%;
			height: 100%;
		}
	</style>	
</head>
<body>
<div id='map'></div>

<script>
	var map = L.map('map', {   //what is "L"?  where does that come from? is that a Leaflet class?
		crs: L.CRS.Simple,
		minZoom: -3
	});

	var yx = L.latLng;

	var xy = function(x, y) {
		if (L.Util.isArray(x)) {    // When doing xy([x, y]);
			return yx(x[1], x[0]);
		}
		return yx(y, x);  // When doing xy(x, y);
	};

	var bounds = [xy(0, 0), xy(1023, 1021.5)];
  var image = L.imageOverlay('sandbox_map.png', bounds).addTo(map);
  
  var centerY = 504.973 //500.457 // 98.185;  //longitude (y) of center of universe
  var centerX = 546.716 //544.455 // 98.585;  //latitude (x) of center of universe

  var yHeight = 2.258;  //height of box
  var xLength = 2.261;  //width of box
 
  //center of metaverse
  var aPolygon2 = L.polygon([[centerY, centerX],   // longitude, latitude
             [centerY, centerX],
             [centerY, centerX],
             [centerY, centerX]
            ], {color: 'red', fillColor: '#f03', fillOpacity: 1, yestyes: 'what'}
           ) //.addTo(map);

  var positionY;  // Y coordinate mapping of Sandbox Y to LandMap Y 
  var positionX;  // X coordinate mapping of Sandbox X to LandMap

  map.setView(yx(centerY, centerX), 0.8);  // this is the initial coordinates view of the map

  // On click event - variable and function
  var popup_01 = L.popup();               // Create a popup instance
  function onMapClick(e) {                //function for click event; calls popup
        popup_01
            .setLatLng(e.latlng)
            .setContent(getSandboxLink)
            .openOn(map)
  }

  function getSandboxLink(aTokenId2) {
    sandboxLink = '<nft-card contractAddress="0x50f5474724e0ee42d9a4e711ccfb275809fd6d4a" tokenId="';
    sandboxLink = sandboxLink + aTokenId2;
    sandboxLink = sandboxLink + '"></nft-card>';     
    return sandboxLink;
  }

  function drawBox(positionY, positionX) {     //render one piece of land
    var aCoordinate = [
            [centerY + (yHeight * positionY) - (yHeight / 2 ), centerX + (xLength * positionX) - (xLength / 2)],   // longitude, latitude
            [centerY + (yHeight * positionY) + (yHeight / 2 ), centerX + (xLength * positionX) - (xLength / 2)],
            [centerY + (yHeight * positionY) + (yHeight / 2 ), centerX + (xLength * positionX) + (xLength / 2)],
            [centerY + (yHeight * positionY) - (yHeight / 2 ), centerX + (xLength * positionX) + (xLength / 2)]
    ];
    var aOptions = {color: 'red', fillColor: '#f03',fillOpacity: 0.5};
    var aPolygon = L.polygon(aCoordinate, aOptions);
    return aPolygon;
  }

 function nicelyDone() {
  aPolygon2 = drawBox(aPositionY2,aPositionX2);
  aPolygon2.bindPopup(getSandboxLink(aTokenId));
  aPolygon2.addTo(map);   
 }

var sandboxLink;
var aTokenId;
var aPositionY2;
var aPositionX2;

aTokenId = '119104'; aPositionY2 = 90; aPositionX2 = 157; nicelyDone();
aTokenId = '124002'; aPositionY2 = 102; aPositionX2 = 159; nicelyDone();
aTokenId = '121912'; aPositionY2 = 97; aPositionX2 = 109; nicelyDone();
aTokenId = '120328'; aPositionY2 = 93; aPositionX2 = 157; nicelyDone();
aTokenId = '100360'; aPositionY2 = 44; aPositionX2 = 181; nicelyDone();
aTokenId = '124399'; aPositionY2 = 103; aPositionX2 = 148; nicelyDone();
aTokenId = '118649'; aPositionY2 = 89; aPositionX2 = 110; nicelyDone();
aTokenId = '126051'; aPositionY2 = 107; aPositionX2 = 168; nicelyDone();
aTokenId = '125241'; aPositionY2 = 105; aPositionX2 = 174; nicelyDone();
aTokenId = '119512'; aPositionY2 = 91; aPositionX2 = 157; nicelyDone();
aTokenId = '121961'; aPositionY2 = 97; aPositionX2 = 158; nicelyDone();
aTokenId = '123591'; aPositionY2 = 101; aPositionX2 = 156; nicelyDone();
aTokenId = '120701'; aPositionY2 = 94; aPositionX2 = 122; nicelyDone();
aTokenId = '124388'; aPositionY2 = 103; aPositionX2 = 137; nicelyDone();
aTokenId = '106011'; aPositionY2 = 58; aPositionX2 = 120; nicelyDone();
aTokenId = '123974'; aPositionY2 = 102; aPositionX2 = 131; nicelyDone();
aTokenId = '120352'; aPositionY2 = 93; aPositionX2 = 181; nicelyDone();
aTokenId = '119474'; aPositionY2 = 91; aPositionX2 = 119; nicelyDone();
aTokenId = '125612'; aPositionY2 = 106; aPositionX2 = 137; nicelyDone();
aTokenId = '121109'; aPositionY2 = 95; aPositionX2 = 122; nicelyDone();
aTokenId = '121107'; aPositionY2 = 95; aPositionX2 = 120; nicelyDone();
aTokenId = '120729'; aPositionY2 = 94; aPositionX2 = 150; nicelyDone();
aTokenId = '118652'; aPositionY2 = 89; aPositionX2 = 113; nicelyDone();
aTokenId = '104839'; aPositionY2 = 55; aPositionX2 = 172; nicelyDone();
aTokenId = '122331'; aPositionY2 = 98; aPositionX2 = 120; nicelyDone();
aTokenId = '123995'; aPositionY2 = 102; aPositionX2 = 152; nicelyDone();
aTokenId = '100711'; aPositionY2 = 45; aPositionX2 = 124; nicelyDone();
aTokenId = '97898'; aPositionY2 = 38; aPositionX2 = 167; nicelyDone();
aTokenId = '96676'; aPositionY2 = 35; aPositionX2 = 169; nicelyDone();
aTokenId = '119925'; aPositionY2 = 92; aPositionX2 = 162; nicelyDone();
aTokenId = '101989'; aPositionY2 = 48; aPositionX2 = 178; nicelyDone();
aTokenId = '101988'; aPositionY2 = 48; aPositionX2 = 177; nicelyDone();
aTokenId = '120276'; aPositionY2 = 93; aPositionX2 = 105; nicelyDone();
aTokenId = '121910'; aPositionY2 = 97; aPositionX2 = 107; nicelyDone();
aTokenId = '117906'; aPositionY2 = 87; aPositionX2 = 183; nicelyDone();
aTokenId = '108083'; aPositionY2 = 63; aPositionX2 = 152; nicelyDone();
aTokenId = '117838'; aPositionY2 = 87; aPositionX2 = 115; nicelyDone();
aTokenId = '91787'; aPositionY2 = 23; aPositionX2 = 176; nicelyDone();
aTokenId = '107286'; aPositionY2 = 61; aPositionX2 = 171; nicelyDone();
aTokenId = '115023'; aPositionY2 = 80; aPositionX2 = 156; nicelyDone();
aTokenId = '92603'; aPositionY2 = 25; aPositionX2 = 176; nicelyDone();
aTokenId = '96659'; aPositionY2 = 35; aPositionX2 = 152; nicelyDone();
aTokenId = '104832'; aPositionY2 = 55; aPositionX2 = 165; nicelyDone();
aTokenId = '107654'; aPositionY2 = 62; aPositionX2 = 131; nicelyDone();
aTokenId = '121168'; aPositionY2 = 95; aPositionX2 = 181; nicelyDone();
aTokenId = '117834'; aPositionY2 = 87; aPositionX2 = 111; nicelyDone();
aTokenId = '102404'; aPositionY2 = 49; aPositionX2 = 185; nicelyDone();
aTokenId = '97881'; aPositionY2 = 38; aPositionX2 = 150; nicelyDone();
aTokenId = '117887'; aPositionY2 = 87; aPositionX2 = 164; nicelyDone();
aTokenId = '108899'; aPositionY2 = 65; aPositionX2 = 152; nicelyDone();
aTokenId = '119528'; aPositionY2 = 91; aPositionX2 = 173; nicelyDone();
aTokenId = '106878'; aPositionY2 = 60; aPositionX2 = 171; nicelyDone();
aTokenId = '106880'; aPositionY2 = 60; aPositionX2 = 173; nicelyDone();
aTokenId = '107645'; aPositionY2 = 62; aPositionX2 = 122; nicelyDone();
aTokenId = '74698'; aPositionY2 = -18; aPositionX2 = -185; nicelyDone();
aTokenId = '56308'; aPositionY2 = -63; aPositionX2 = -215; nicelyDone();
aTokenId = '71012'; aPositionY2 = -27; aPositionX2 = -199; nicelyDone();
aTokenId = '69367'; aPositionY2 = -31; aPositionX2 = -212; nicelyDone();
aTokenId = '46130'; aPositionY2 = -88; aPositionX2 = -193; nicelyDone();
aTokenId = '48982'; aPositionY2 = -81; aPositionX2 = -197; nicelyDone();
aTokenId = '44904'; aPositionY2 = -91; aPositionX2 = -195; nicelyDone();
aTokenId = '69368'; aPositionY2 = -31; aPositionX2 = -211; nicelyDone();
aTokenId = '70186'; aPositionY2 = -29; aPositionX2 = -209; nicelyDone();
aTokenId = '60817'; aPositionY2 = -52; aPositionX2 = -194; nicelyDone();
aTokenId = '69377'; aPositionY2 = -31; aPositionX2 = -202; nicelyDone();
aTokenId = '71010'; aPositionY2 = -27; aPositionX2 = -201; nicelyDone();
aTokenId = '73056'; aPositionY2 = -22; aPositionX2 = -195; nicelyDone();
aTokenId = '73041'; aPositionY2 = -22; aPositionX2 = -210; nicelyDone();
aTokenId = '70181'; aPositionY2 = -29; aPositionX2 = -214; nicelyDone();
aTokenId = '37570'; aPositionY2 = -109; aPositionX2 = -185; nicelyDone();
aTokenId = '73465'; aPositionY2 = -21; aPositionX2 = -194; nicelyDone();
aTokenId = '71418'; aPositionY2 = -26; aPositionX2 = -201; nicelyDone();
aTokenId = '70601'; aPositionY2 = -28; aPositionX2 = -202; nicelyDone();
aTokenId = '53068'; aPositionY2 = -71; aPositionX2 = -191; nicelyDone();
aTokenId = '69786'; aPositionY2 = -30; aPositionX2 = -201; nicelyDone();
aTokenId = '46134'; aPositionY2 = -88; aPositionX2 = -189; nicelyDone();
aTokenId = '76305'; aPositionY2 = -14; aPositionX2 = -210; nicelyDone();
aTokenId = '53067'; aPositionY2 = -71; aPositionX2 = -192; nicelyDone();
aTokenId = '36755'; aPositionY2 = -111; aPositionX2 = -184; nicelyDone();
aTokenId = '79586'; aPositionY2 = -6; aPositionX2 = -193; nicelyDone();
aTokenId = '52659'; aPositionY2 = -72; aPositionX2 = -192; nicelyDone();
aTokenId = '70619'; aPositionY2 = -28; aPositionX2 = -184; nicelyDone();
aTokenId = '76322'; aPositionY2 = -14; aPositionX2 = -193; nicelyDone();
aTokenId = '74693'; aPositionY2 = -18; aPositionX2 = -190; nicelyDone();
aTokenId = '73874'; aPositionY2 = -20; aPositionX2 = -193; nicelyDone();
aTokenId = '71424'; aPositionY2 = -26; aPositionX2 = -195; nicelyDone();
aTokenId = '68545'; aPositionY2 = -33; aPositionX2 = -218; nicelyDone();
aTokenId = '70211'; aPositionY2 = -29; aPositionX2 = -184; nicelyDone();
aTokenId = '74263'; aPositionY2 = -19; aPositionX2 = -212; nicelyDone();
aTokenId = '58777'; aPositionY2 = -57; aPositionX2 = -194; nicelyDone();
aTokenId = '76306'; aPositionY2 = -14; aPositionX2 = -209; nicelyDone();
aTokenId = '73445'; aPositionY2 = -21; aPositionX2 = -214; nicelyDone();
aTokenId = '69775'; aPositionY2 = -30; aPositionX2 = -212; nicelyDone();
aTokenId = '68962'; aPositionY2 = -32; aPositionX2 = -209; nicelyDone();
aTokenId = '68969'; aPositionY2 = -32; aPositionX2 = -202; nicelyDone();
aTokenId = '76710'; aPositionY2 = -13; aPositionX2 = -213; nicelyDone();
aTokenId = '70604'; aPositionY2 = -28; aPositionX2 = -199; nicelyDone();
aTokenId = '71829'; aPositionY2 = -25; aPositionX2 = -198; nicelyDone();
aTokenId = '71833'; aPositionY2 = -25; aPositionX2 = -194; nicelyDone();
aTokenId = '71834'; aPositionY2 = -25; aPositionX2 = -193; nicelyDone();
aTokenId = '70207'; aPositionY2 = -29; aPositionX2 = -188; nicelyDone();
aTokenId = '76707'; aPositionY2 = -13; aPositionX2 = -216; nicelyDone();
aTokenId = '70209'; aPositionY2 = -29; aPositionX2 = -186; nicelyDone();
aTokenId = '76302'; aPositionY2 = -14; aPositionX2 = -213; nicelyDone();
aTokenId = '69802'; aPositionY2 = -30; aPositionX2 = -185; nicelyDone();
aTokenId = '71836'; aPositionY2 = -25; aPositionX2 = -191; nicelyDone();
aTokenId = '48986'; aPositionY2 = -81; aPositionX2 = -193; nicelyDone();
aTokenId = '49804'; aPositionY2 = -79; aPositionX2 = -191; nicelyDone();
aTokenId = '50210'; aPositionY2 = -78; aPositionX2 = -193; nicelyDone();
aTokenId = '51027'; aPositionY2 = -76; aPositionX2 = -192; nicelyDone();
aTokenId = '70197'; aPositionY2 = -29; aPositionX2 = -198; nicelyDone();
aTokenId = '69373'; aPositionY2 = -31; aPositionX2 = -206; nicelyDone();
aTokenId = '72241'; aPositionY2 = -24; aPositionX2 = -194; nicelyDone();
aTokenId = '73060'; aPositionY2 = -22; aPositionX2 = -191; nicelyDone();
aTokenId = '69781'; aPositionY2 = -30; aPositionX2 = -206; nicelyDone();
aTokenId = '52657'; aPositionY2 = -72; aPositionX2 = -194; nicelyDone();
aTokenId = '49795'; aPositionY2 = -79; aPositionX2 = -200; nicelyDone();
aTokenId = '68953'; aPositionY2 = -32; aPositionX2 = -218; nicelyDone();
aTokenId = '59592'; aPositionY2 = -55; aPositionX2 = -195; nicelyDone();
aTokenId = '9338'; aPositionY2 = -179; aPositionX2 = 143; nicelyDone();

//sandboxLink = '<nft-card contractAddress="0x50f5474724e0ee42d9a4e711ccfb275809fd6d4a" tokenId="124002"></nft-card>'; aPolygon2 = drawBox(102,159);
//sandboxLink = '<nft-card contractAddress="0x50f5474724e0ee42d9a4e711ccfb275809fd6d4a" tokenId="121912"></nft-card>'; aPolygon2 = drawBox(97,109);

// Set the following three variables when calling drawBox
//   x  -->  calculated x coordinate based on Sandbox asset trait X
//   y  -->  calculated y coordinate based on Sandbox asset trait y
//   sandboxLink  -->  Opensea link pointing to a Sandbox land asset
// Idea : Make the Python script produce javascript code lines with the hardcoded values.
//        Then just include them right here.
// Javascript line will look like this:
// x = aValue; y = aValue; sandboxLink = aValue; drawbox(x,y);

   // ---- cut and past all generated string here -- //

 //go left
  //drawBox(0,-25);
  //drawBox(0,-50);
  //drawBox(0,-75);
  //drawBox(0,-100);
  //drawBox(0,-125);
  //drawBox(0,-150);
  //drawBox(0,-175);

  //go right
  //drawBox(0,25);
  //drawBox(0,50);
  //drawBox(0,75);
  //drawBox(0,100);
  //drawBox(0,125);
  //drawBox(0,150);
  //drawBox(0,175);

  //go up
  //drawBox(25,0);
  //drawBox(50,0);
  //drawBox(75,0);
  //drawBox(100,0);
  //drawBox(125,0);
  //drawBox(150,0);
  //drawBox(175,0);
  //drawBox(185,0);

  //go down
  //drawBox(-25,0);
  //drawBox(-50,0);
  //drawBox(-75,0);
  //drawBox(-100,0);
  //drawBox(-125,0);
  //drawBox(-150,0);
  //drawBox(-175,0);
  //drawBox(-185,0);

  //drawBox(2,1) ;

</script>

</body>
</html>